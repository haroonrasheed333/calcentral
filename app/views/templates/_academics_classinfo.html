<script type="text/ng-template" id="templates/academics_classinfo.html">
  <div
    class="cc-page-academics"
    data-cc-spinner-directive
    data-ng-show="can_view_academics"
  >
    <div>
      <h1 class="cc-heading-page-title">
        <a href="/academics">My Academics</a> &raquo;
        <span data-ng-show="!is_instructor_gsi">
          <a data-ng-href="/academics/semester/{{selected_semester.slug}}"><span data-ng-bind="selected_semester.name"></span></a> &raquo;
          <span data-ng-bind="selected_course.course_number"></span>
        </span>
        <span data-ng-show="is_instructor_gsi">
          <span data-ng-bind="selected_course.course_number"></span> | <span data-ng-bind="selected_semester.name"></span>
        </span>
      </h1>
    </div>

    <div class="medium-4 columns cc-academics-page-left">
      <div class="cc-widget">
        <div class="cc-widget-title">
          <h2>Class information</h2>
        </div>
        <div class="cc-widget-padding">
          <h3>Class Title</h3>
          <div data-ng-bind="selected_course.title"></div>

          <h3 data-ng-show="selected_course.role">My Role</h3>
          <div data-ng-bind="selected_course.role"></div>

          <h3 data-ng-show="selected_course.sections.length && !is_instructor_gsi">My Enrollment</h3>

          <div class="cc-table" data-ng-show="selected_course.sections.length && !is_instructor_gsi">
            <table>
              <thead>
                <tr>
                  <th width="25%">Section</th>
                  <th>CCN</th>
                </tr>
              </thead>
              <tbody>
                <tr data-ng-repeat="sec in selected_course.sections">
                  <td data-ng-bind="sec.section_label"></td>
                  <td data-ng-bind="sec.ccn"></td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3 data-ng-show="selected_course_count_schedules || selected_course.units || selected_course.grade_option">Class Info</h3>

          <h4 data-ng-hide="is_instructor_gsi">Course Offering</h4>

          <div data-ng-hide="is_instructor_gsi" class="cc-table">
            <table>
              <tbody>
                <tr>
                  <th scope="row" width="25%">Units</th>
                  <td data-ng-show="selected_course.units" data-ng-bind="selected_course.units  | number:1"></td>
                  <td data-ng-show="!selected_course.units">--</td>
                </tr>
                <tr data-ng-show="selected_course.grade_option">
                  <th scope="row">Grading</th>
                  <td data-ng-bind="selected_course.grade_option"></td>
                </tr>
              </tbody>
            </table>
          </div>

          <h4 data-ng-show="selected_course_count_schedules">Section Schedules</h4>

          <div class="row collapse" data-ng-repeat="section in selected_course.sections">
            <div class="small-3 columns" data-ng-show="section.schedules" data-ng-bind="section.section_label"></div>
            <div class="small-9 columns">
              <div data-ng-repeat="schedule in section.schedules" data-ng-show="section.schedules" class="cc-academics-schedule-room">
                <span data-ng-bind="schedule.schedule"></span> |
                <span data-ng-bind="schedule.room_number"></span> <span data-ng-bind="schedule.building_name"></span> <br />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="medium-4 columns" data-ng-show="selected_course_count_instructors">
      <div class="cc-widget">
        <div class="cc-widget-title">
          <h2 data-ng-pluralize count="selected_course_count_instructors" when="{'1': 'Instructor', 'other': 'Instructors'}">Instructors</h2>
        </div>
        <div class="cc-widget-padding">
          <div data-ng-repeat="section in selected_course.sections">
            <h3 data-ng-bind="section.section_label"></h3>
            <ul class="cc-academics-instructors">
              <li data-ng-repeat="instructor in section.instructors">
                <a data-ng-href="https://calnet.berkeley.edu/directory/details.pl?uid={{instructor.uid}}" data-ng-bind="instructor.name"></a>
                <a data-ng-show="instructor.email" title="Email {{instructor.name}}" data-ng-href="mailto:{{instructor.email}}">
                  <span class="cc-visuallyhidden">Email {{instructor.name}}</span>
                  <i class="cc-icon fa fa-envelope"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="medium-4 columns">
      <div class="cc-widget cc-widget-last" data-ng-controller="VideoController" data-ng-if="api.user.profile.features.videos">
        <div class="cc-widget-title">
          <h2>Webcasts</h2>
        </div>
        <div class="cc-widget-padding">
          <div data-cc-spinner-directive>
            <div data-ng-bind="error_message"></div>
            <div data-ng-if="videos">
              <div class="cc-select">
                <select data-ng-model="selectedVideo" data-ng-options="video.lecture for video in videos"></select>
              </div>
              <div class="cc-youtube-video">
                <iframe type="text/html" width="100%" height="100%"
                data-ng-attr-src="{{selectedVideo.link}}"
                frameborder="0"></iframe>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="cc-widget cc-widget-last" data-ng-if="selected_course.class_sites.length">
        <div class="cc-widget-title">
          <h2>Class Sites</h2>
        </div>
        <div class="cc-widget-padding">
          <ul class="cc-academics-class-sites-list">
            <li data-ng-repeat="site in selected_course.class_sites">
              <a data-ng-href="{{site.site_url}}"
                 data-ng-click="api.analytics.trackExternalLink('Class Sites', group.emitter, site.site_url)">
                <i class="cc-left cc-icon" data-ng-class="'cc-icon-{{site.emitter|lowercase}}'"></i>
                <strong class="cc-ellipsis" data-ng-bind="site.name"></strong>
              </a>
            </li>
          </ul>
        </div>
      </div>

      <div data-ng-if="selected_semester.time_bucket === 'current' || selected_semester.time_bucket === 'future'" class="cc-widget cc-widget-last" data-ng-controller="TextbookController" data-ng-if="api.user.profile.features.textbooks">
        <div class="cc-widget-title">
          <h2>Textbooks</h2>
        </div>
        <div data-cc-spinner-directive>
          <div class="cc-widget-padding">
            <div data-ng-if="books.has_books">
              <div class="cc-textbooks-bookstore" data-ng-if="!all_sections_have_choices">
                You can buy textbooks at the <a href="http://www.bkstr.com/Home/10001-10433-1">Cal Student Store</a>.
              </div>
              <div data-ng-repeat="books_category in books.book_details" ng-class="{'cc-textbooks-last-section':$last}" class="cc-clearfix-container cc-textbooks-category">
                <h3 data-ng-if="books_category.books" data-ng-bind="books_category.type"></h3>
                <p data-ng-if="books_category.has_choices">
                  This section has a choice of titles. Please visit the <a href="http://www.bkstr.com/Home/10001-10433-1">Cal Student Store</a> to see them all.
                </p>
                <div data-ng-if="books_category.books && !books_category.has_choices">
                  <div data-ng-repeat="book in books_category.books" ng-class="{'cc-textbooks-last':$last}" class="cc-textbooks-list">
                    <div class="small-4 columns rows" data-ng-if="book.image">
                      <img class="cc-textbooks-image" data-ng-attr-alt="Textbook cover for {{book.title}}" data-ng-src="{{book.image}}" width="110" height="180"></img>
                    </div>
                    <div class="small-8 columns rows">
                      <h4 data-ng-bind="book.title"></h4>
                      <ul>
                        <li data-ng-if="book.author"><strong>Author: </strong><span data-ng-bind="book.author"></span></li>
                        <li data-ng-if="book.isbn"><strong>ISBN: </strong><span data-ng-bind="book.isbn"></li>
                        <li data-ng-if="book.edition"><strong>Edition: </strong><span data-ng-bind="book.edition"></li>
                        <li data-ng-if="book.publisher"><strong>Publisher: </strong><span data-ng-bind="book.publisher"></li>
                      </ul>
                      <ul>
                        <li data-ng-if="book.amazon_link">
                          <span class="cc-icon cc-icon-amazon"></span>
                          <a data-ng-href="{{book.amazon_link}}"><strong>Buy</strong></a>
                        </li>
                        <li data-ng-if="book.chegg_link">
                          <span class="cc-icon cc-icon-chegg"></span>
                          <a data-ng-href="{{book.chegg_link}}"><strong>Rent</strong></a>
                        </li>
                        <li data-ng-if="book.oskicat_link">
                          <span class="cc-icon cc-icon-oskicat"></span>
                          <a data-ng-href="{{book.oskicat_link}}"><strong>Borrow</strong></a>
                        </li>
                      </ul>
                    </div>
                    <hr>
                  </div>
                </div>
              </div>
            </div>
            <div class="cc-error-message" data-ng-if="books.has_books === false" data-ng-bind="books.book_unavailable_error"></div>
            <div class="cc-error-message" data-ng-if="textbook_error.body" data-ng-bind="textbook_error.body">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</script>
